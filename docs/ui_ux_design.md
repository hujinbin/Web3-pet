# Web3-Pet UI/UX 设计方案

## 1. 整体导航结构

Web3-Pet应用将包含以下主要页面：

```
首页 (Home)
├── 我的宠物 (MyPets)
├── 领养宠物 (AdoptPet) ← 已实现，需要更新
├── 宠物合成 (BreedPet) ← 新增
├── 每日签到 (DailySignIn) ← 新增
├── 登录/注册 (Login/Register) ← 新增
└── 个人中心 (Profile)
    └── 金币余额与交易记录
```

## 2. 用户体系与区块链存储（新增）

- 新增登录/注册页面，支持用户名+密码注册和登录。
- 用户注册信息（用户名、密码哈希、昵称等）通过智能合约存储到 Web3 公链。
- 登录时，前端哈希密码，与链上数据比对。
- 登录成功后，用户可进行宠物相关操作，所有宠物、金币等资产与链上账户绑定。
- 个人中心页面展示用户信息（昵称、头像等），支持链上修改。

### 登录/注册页面设计
- 输入用户名、密码，支持注册和登录切换。
- 注册时，调用合约 `registerUser(username, passwordHash)`。
- 登录时，前端哈希密码，调用合约 `getUser(username)`，比对哈希。
- 登录成功后跳转首页。

## 3. 金币系统 UI 设计

### 3.1 金币展示组件

在应用的全局导航栏中添加金币展示组件，使用户随时可以看到自己的金币余额。

```jsx
// 金币展示组件设计
<div className="coin-display">
  <CoinIcon />
  <span className="coin-amount">{userCoins}</span>
</div>
```

**设计规范：**
- 使用金色图标表示金币
- 数字显示当前余额
- 点击可展开查看最近交易记录
- 当金币数量变化时，使用动画效果提示用户

### 3.2 金币获取流程

#### 每日签到页面

![每日签到页面布局](https://placeholder.com/daily-signin)

**页面元素：**
1. 日历视图，显示当月签到情况
2. 当天签到状态（已签到/未签到）
3. 连续签到天数展示
4. 签到奖励说明（基础奖励 + 连续签到额外奖励）
5. 签到按钮
6. 签到成功动画与奖励展示

**交互流程：**
1. 用户进入签到页面
2. 系统检查用户当天是否已签到
3. 若未签到，显示可签到状态
4. 用户点击签到按钮
5. 显示签到成功动画，金币数增加
6. 更新连续签到天数和日历视图

## 4. 领养宠物流程更新

### 4.1 领养页面改版

![领养页面布局](https://placeholder.com/adopt-pet)

**页面元素更新：**
1. 添加金币消费提示
   - 显示领养所需金币数量
   - 显示用户当前金币余额
   - 如金币不足，提供获取金币的引导
2. 更新领养按钮
   - 按钮文案改为"花费 100 金币领养"
   - 金币不足时按钮置灰并提示
3. 领养确认弹窗
   - 显示将扣除的金币数量
   - 确认和取消选项

**交互流程：**
1. 用户选择宠物类型
2. 输入宠物名称
3. 点击领养按钮
4. 显示确认弹窗，确认扣除金币
5. 用户确认后，发起领养交易
6. 交易成功后，显示领养成功动画
7. 更新用户金币余额
8. 将新宠物添加到用户的宠物列表

### 4.2 金币不足处理

当用户金币不足时：
1. 领养按钮置灰，显示"金币不足"
2. 提供获取金币的方式提示：
   - "每日签到可获取金币"
   - "宠物合成可获取经验和金币"
3. 添加快捷跳转到签到页面的按钮

## 5. 宠物合成页面设计

### 5.1 页面布局

![宠物合成页面布局](https://placeholder.com/breed-pet)

**页面元素：**
1. 用户拥有的宠物列表（可选择两只进行合成）
2. 选中的父母宠物展示区（左右两侧）
3. 中间为合成区域，显示合成所需金币
4. 合成按钮
5. 合成冷却时间提示
6. 宠物属性预览

**交互流程：**
1. 用户从宠物列表中选择两只不同的宠物
2. 系统检查是否满足合成条件（冷却时间、金币余额）
3. 用户输入新宠物名称
4. 点击合成按钮
5. 显示合成动画
6. 交易成功后，展示新宠物的属性和外观
7. 更新用户金币余额
8. 将新宠物添加到用户的宠物列表

### 5.2 合成动画设计

为提升用户体验，设计生动的合成动画：
1. 两只父母宠物图像向中心移动
2. 中心出现光效
3. 融合动画
4. 新宠物诞生动画
5. 属性和DNA展示

## 6. 我的宠物页面更新

### 6.1 宠物卡片更新

在宠物卡片中添加以下信息：
1. 宠物DNA展示
2. 宠物等级
3. 宠物属性可视化
4. 父母信息（如有）
5. 合成冷却时间倒计时

### 6.2 宠物详情页

点击宠物卡片进入详情页，展示：
1. 宠物完整信息
2. 宠物家谱
3. 属性详细数据
4. 合成历史
5. 相关操作按钮（合成、转让等）

## 7. 响应式设计

所有页面需要适配以下设备尺寸：
1. 桌面端（>= 1024px）
2. 平板（768px - 1023px）
3. 手机（< 768px）

**移动端适配要点：**
- 导航栏转为底部标签栏
- 宠物列表改为单列布局
- 合成页面父母宠物改为上下布局
- 简化部分视觉效果以提升性能

## 8. 状态反馈设计

### 8.1 交易状态反馈

所有区块链交易操作（领养、合成、签到）需要有明确的状态反馈：
1. 等待确认状态
   - 显示加载动画
   - 提示用户交易正在处理
2. 交易成功状态
   - 显示成功动画
   - 提示交易已完成
3. 交易失败状态
   - 显示错误提示
   - 提供重试选项和错误原因

### 8.2 金币变动反馈

当用户金币数量发生变化时：
1. 金币数字变化动画
2. 根据增减显示不同颜色（增加为绿色，减少为红色）
3. 简短提示说明金币变动原因

## 9. 实现优先级

1. **高优先级**
   - 全局金币展示组件
   - 领养页面金币支付功能
   - 每日签到基础功能

2. **中优先级**
   - 宠物合成页面
   - 宠物详情页更新
   - 交易状态反馈优化

3. **低优先级**
   - 合成动画效果
   - 响应式优化
   - 金币交易历史记录

## 10. 组件复用策略

为提高开发效率，以下组件设计为可复用：

1. **CoinDisplay** - 金币展示组件
   - 用于导航栏和各功能页面

2. **PetCard** - 宠物卡片组件
   - 用于宠物列表、合成选择、详情展示

3. **TransactionStatus** - 交易状态组件
   - 用于所有区块链交易操作的状态展示

4. **AttributeChart** - 属性图表组件
   - 用于可视化宠物属性

## 11. 前端实现计划

### 11.1 组件结构

```
src/
├── components/
│   ├── common/
│   │   ├── CoinDisplay.tsx
│   │   ├── TransactionStatus.tsx
│   │   └── PageHeader.tsx
│   ├── pet/
│   │   ├── PetCard.tsx
│   │   ├── PetDetail.tsx
│   │   └── AttributeChart.tsx
│   ├── adopt/
│   │   ├── AdoptForm.tsx
│   │   └── PetTypeSelector.tsx
│   ├── breed/
│   │   ├── BreedForm.tsx
│   │   ├── PetSelector.tsx
│   │   └── BreedAnimation.tsx
│   └── signin/
│       ├── Calendar.tsx
│       └── SignInButton.tsx
├── pages/
│   ├── Home.tsx
│   ├── MyPets.tsx
│   ├── AdoptPet.tsx
│   ├── BreedPet.tsx
│   ├── DailySignIn.tsx
│   └── Profile.tsx
└── hooks/
    ├── useWeb3.tsx
    ├── usePetContract.tsx
    ├── useCoinContract.tsx
    └── useBreedContract.tsx
```

### 11.2 状态管理

使用React Context API创建以下Context：
1. **Web3Context** - 管理钱包连接和区块链交互
2. **PetContext** - 管理宠物数据和操作
3. **CoinContext** - 管理金币余额和交易

### 11.3 路由设计

```jsx
<Routes>
  <Route path="/" element={<Home />} />
  <Route path="/my-pets" element={<MyPets />} />
  <Route path="/adopt" element={<AdoptPet />} />
  <Route path="/breed" element={<BreedPet />} />
  <Route path="/signin" element={<DailySignIn />} />
  <Route path="/profile" element={<Profile />} />
  <Route path="/pet/:id" element={<PetDetail />} />
</Routes>
```

## 12. 用户引导设计

为新用户设计引导流程：
1. 首次访问应用时，展示功能介绍
2. 引导用户连接钱包
3. 引导用户完成首次签到获取金币
4. 引导用户领养第一只宠物
5. 介绍宠物属性和合成机制

## 13. 主题与视觉风格

### 13.1 配色方案

- **主色调**：#6D28D9（紫色）- 代表创新和数字世界
- **辅助色**：#F59E0B（金色）- 用于金币和重要操作
- **背景色**：#F3F4F6（浅灰）- 提供舒适的阅读体验
- **强调色**：#10B981（绿色）- 用于成功状态和积极反馈

### 13.2 字体选择

- 标题：Poppins, sans-serif
- 正文：Inter, sans-serif
- 数字和代码：Roboto Mono, monospace

### 13.3 图标系统

使用一致的图标系统，优先选择Ant Design图标库，保持风格统一。

## 14. 可访问性设计

确保应用符合WCAG 2.1 AA级别标准：
1. 所有交互元素有足够的对比度
2. 提供键盘导航支持
3. 添加适当的ARIA标签
4. 确保屏幕阅读器兼容性
5. 提供足够大的点击区域